<!DOCTYPE html>
<html lang="en" class="bg-amber-50 scroll-smooth">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Cloth</title>
  {% load static %}

  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;600;700&display=swap" rel="stylesheet">
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@100..900&display=swap" rel="stylesheet">
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Raleway&display=swap" rel="stylesheet">

  <link type="text/css" href="{% static 'app/vendor/fontawesome/css/all.min.css' %}" rel="stylesheet" />
  <script src="{% static 'app/vendor/fontawesome/js/all.min.js' %}"></script>

  <script async defer src="https://buttons.github.io/buttons.js"></script>
  <script type="module" crossorigin src="{% static 'app/assets/lp/index-4ztGeFOK.js' %}"></script>
  <link rel="stylesheet" crossorigin href="{% static 'app/assets/lp/index-888rfI1C.css' %}">
</head>

<body>
  <header>
    <nav class="py-4 px-14 flex items-center">
      <h2 class="font-inter font-medium text-3xl md:text-4xl flex-1 md:flex-none">Cloth</h2>

      <ul class="font-poppins items-center gap-5 flex-1 ml-8 text-lg hidden md:flex">
        <li><a href="#home" class="hover:underline hover:cursor-pointer">Home</a></li>
        <li><a href="#features" class="hover:underline hover:cursor-pointer">Features</a></li>
        <li><a href="#prediction" class="hover:underline hover:cursor-pointer">Prediction</a></li>
      </ul>

      <a href="{{ redirect_url }}"
        class="bg-slate-950 text-white px-8 py-3 rounded-full font-semibold border-2 group border-transparent transition-color duration-300 hover:bg-transparent hover:border-slate-950 hover:text-black hover:cursor-pointer">
        {% if authed %} Dashboard {% else %} Login {% endif %} <i
          class="fa-solid fa-arrow-right ml-2 transition-transform duration-300 group-hover:translate-x-1"></i>
      </a>
    </nav>
  </header>

  <main class="border-t-2 border-slate-950 rounded-t-3xl">
    <div class="p-3 md:p-8">
      <section class="relative" id="home">
        <img src="{% static 'app/assets/lp/cloth_rack.jpg' %}" alt="Cloth"
          class="w-full object-cover rounded-t-3xl brightness-50 max-h-[650px]" />

        <div class="absolute top-1/2 px-5 md:px-0 md:left-1/2 md:-translate-x-1/2 -translate-y-1/2">
          <p class="text-white text-xl md:text-4xl lg:text-6xl font-inter font-semibold text-center">
            Cloth Factory Management
          </p>

          <p class="text-white font-medium font-poppins text-lg md:text-2xl lg:text-3xl text-center mt-3">
            Simple, Modern, Flexible, and <span class="font-bold">Effecient</span>.
          </p>

          <p class="md:text-2xl text-white mt-2 text-center">
            Our mission is to simplify your operations, enhance your productivity,
            and ensure the highest standards of quality.
          </p>

          <a href="#features"
            class="mx-auto block w-fit mt-2 bg-zinc-950 text-white px-8 py-3 rounded-full font-semibold border-2 group border-amber-50 transition-color duration-300 hover:bg-white hover:text-black hover:cursor-pointer">
            Learn More <i
              class="fa-solid fa-arrow-down ml-2 transition-transform duration-300 group-hover:translate-y-1"></i>
          </a>

        </div>

        <div class="absolute -bottom-5 p-10 w-full bg-gradient-to-t from-amber-50 via-amber-50"></div>
      </section>

      <section class="container mx-auto grid lg:grid-cols-2 mt-5 gap-10 items-center" id="features">
        <div class="grid md:grid-cols-2 gap-4">
          <div class="relative group h-fit transition-transform duration-300 hover:scale-105 md:hover:scale-110">
            <img src="{% static 'app/assets/lp/customer.jpeg' %}"
              class="rounded-lg transition-all duration-300 brightness-50 md:brightness-100 md:group-hover:brightness-50 h-[250px] w-full object-cover md:w-auto md:object-none md:h-auto" />

            <div class="md:hidden group-hover:block absolute top-1/2 -translate-y-1/2 ">
              <p class="text-white text-lg md:text-xl font-inter font-semibold text-center">
                Customer Management
              </p>

              <p class="text-white font-medium font-poppins md:text-lg text-center mt-3">
                Manage your customers with ease. Easily add, update, and delete customers.
              </p>
            </div>
          </div>

          <div class="space-y-4 md:mt-32">
            <div class="relative group h-fit transition-transform duration-300 hover:scale-105 md:hover:scale-110">
              <img src="{% static 'app/assets/lp/cloth.jpeg' %}"
                class="rounded-lg transition-all duration-300 brightness-50 md:brightness-100 md:group-hover:brightness-50 w-full object-cover md:w-auto md:object-none" />

              <div class="md:hidden group-hover:block absolute top-1/2 -translate-y-1/2">
                <p class="text-white text-lg md:text-xl font-inter font-semibold text-center">
                  Cloth Management
                </p>

                <p class="text-white font-medium font-poppins text-center mt-3">
                  Easily manage your produced clothing while keeps tracking the materials, types, special types,
                  workers, and even the colors.
                </p>
              </div>
            </div>

            <div class="relative group h-fit transition-transform duration-300 hover:scale-105 md:hover:scale-110">
              <img src="{% static 'app/assets/lp/order.jpeg' %}"
                class="rounded-lg transition-all duration-300 brightness-50 md:brightness-100 md:group-hover:brightness-50 w-full object-cover md:w-auto md:object-none" />

              <div class="md:hidden group-hover:block absolute top-1/2 -translate-y-1/2 ">
                <p class="text-white text-lg md:text-xl font-inter font-semibold text-center">
                  Order Management
                </p>

                <p class="text-white font-medium font-poppins text-center mt-3">
                  You can then generate an order for the customer, and keep track of the order status
                  while ensuring everything is in place.
                </p>
              </div>
            </div>
          </div>
        </div>

        <div>
          <div
            class="border gap-2 text-center border-slate-950 rounded-full px-5 py-2 w-fit before:content-[''] before:inline-block before:p-1 flex items-center before:bg-zinc-950 before:rounded-full">
            Our Features
          </div>

          <h3 class="text-4xl font-inter font-semibold mt-5">Discover The Power Within Our App.</h3>
          <p class="mt-8 text-lg">
            Our app is designed to help you manage your cloth factory with ease. It is simple, modern, flexible, and
            efficient. It is designed to simplify your operations, enhance your productivity, and ensure the highest
            standards of quality. Our app consist of <span class="font-bold">Customer Management, Material Management,
              Cloth Management, Worker
              Management, Order Management</span>, and will still be updated with more features.
          </p>
        </div>
      </section>
    </div>

    <section class="w-full bg-slate-950 p-16 mt-10 relative grid place-items-center" id="prediction">
      <div
        class="text-white gap-2 text-center border-2 border-slate-50 rounded-full px-5 py-2 w-fit before:content-[''] before:inline-block before:p-1 flex items-center before:bg-white before:rounded-full">
        Still Not Convinced?
      </div>

      <h3 class="text-4xl font-inter font-semibold mt-5 text-white text-center">Why Not Try Our Prediction?</h3>
      <p class="mt-3 text-lg text-white text-center">
        This prediction allows you to quickly predict the production time it tooks to produce a cloth. It is based on
        previous data.
      </p>

      <div class="flex items-center gap-3">
        <select id="order-select"
          class="mt-3 rounded-lg border border-slate-600 bg-transparent text-white focus:ring-0 focus:border-slate-400">
          {% for order in orders %}
          <option value="{{ order.id }}" style="color: black;">{{ order.ref_id }}</option>
          {% endfor %}
        </select>
      </div>

      <div class="mt-10 grid md:grid-cols-2 gap-6 max-w-xl mx-auto w-full">
        <div class="w-full border border-slate-600 rounded-md p-4" id="order-overview">
          <p class="text-lg font-semibold font-poppins text-white">Order Overview</p>
          <hr class="border-slate-600 my-3" />

          <p class="text-white">Cloth Type: <span class="font-bold">Loading...</span></p>
          <p class="text-white">Material: <span class="font-bold">Loading...</span></p>
          <p class="text-white">Quantity: <span class="font-bold">Loading...</span></p>
        </div>


        <div class="w-full border border-slate-600 rounded-md p-4" id="order-info">
          <p class="text-lg font-semibold font-poppins text-white">Additional Information</p>
          <hr class="border-slate-600 my-3" />

          <p class="text-white">Worker Amount: <span class="font-bold">Loading...</span></p>
          <p class="text-white">Difficulty: <span class="font-bold">Loading...</span></p>
          <p class="text-white">Ordered at: <span class="font-bold">Loading...</span></p>
        </div>
      </div>

      <button id="predict-btn"
        class="px-8 py-2 mt-14 rounded-full border-2 border-slate-50 text-white font-medium hover:bg-slate-50 hover:text-black transition-colors duration-400">Predict</button>

      <div class="text-white border mt-8 p-4 rounded-lg border-white w-full text-center" id="predict-result">
      </div>

      <!-- Top Dot -->
      <div class="bg-slate-950 px-5 py-6 absolute -top-6 right-1 rounded-lg"></div>
      <div class="bg-slate-950 px-3 py-6 absolute -top-16 right-12 rounded-lg"></div>
      <div class="bg-slate-950 px-8 py-6 absolute -top-6 right-20 translate-x-1 rounded-lg"></div>
      <div class="bg-slate-950 p-2 absolute -top-10 right-36 rounded-lg"></div>

      <!-- Bottom Dot -->
      <div class="bg-amber-50 px-5 py-3 absolute bottom-0 left-0 rounded-t-lg"></div>
      <div class="bg-amber-50 px-6 py-3 absolute bottom-6 left-10 rounded-lg"></div>
      <div class="bg-amber-50 p-2 absolute bottom-3 left-24 -translate-x-2 rounded-lg"></div>
    </section>

    <section class="p-8 mt-14 grid gap-5 md:gap-0 md:grid-cols-3">
      <div class="text-center">
        <h3 class="font-semibold text-6xl font-raleway">1k+</h3>
        <p class="text-lg font-poppins mt-5">Happy Customers</p>
        <p class="mt-2">Become part of our happy customers.</p>
      </div>

      <div class="text-center">
        <h3 class="font-semibold text-6xl font-raleway">10k+</h3>
        <p class="text-lg font-poppins mt-5">Order Processed</p>
        <p class="mt-2">10k of our customers orders have been processed and doing well.</p>
      </div>

      <div class="text-center">
        <h3 class="font-semibold text-6xl font-raleway">30%</h3>
        <p class="text-lg font-poppins mt-5">Better Effeciency</p>
        <p class="mt-2">Our customer claims they achived 30% better effeciency at avarage.</p>
      </div>
    </section>

    <section class="mt-20 max-w-7xl px-3 xl:px-0 w-full mx-auto relative mb-10">
      <img src="{% static 'app/assets/lp/clothing.jpeg' %}" alt="Cloth"
        class="w-full object-cover min-h-[400px] rounded-xl brightness-50" />

      <div class="absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 text-center">
        <h3 class="text-white text-lg md:text-3xl lg:text-4xl font-inter font-semibold">Ready to get started?</h3>
        <p class="text-white font-medium font-poppins md:text-lg mt-3">Get started with Cloth Factory Management today.
        </p>
        <a href="{{ redirect_url }}"
          class="block w-fit mx-auto mt-5 bg-slate-950 text-white px-8 py-3 rounded-full font-semibold border-2 group border-transparent transition-color duration-300 hover:bg-transparent hover:border-white hover:cursor-pointer mt-5 hover:backdrop-blur-lg">
          Get Started <i
            class="fa-solid fa-arrow-right ml-2 transition-transform duration-300 group-hover:translate-x-1"></i>
        </a>
      </div>
    </section>
  </main>

  <footer class="w-full">
    <div class="px-16 flex md:justify-around flex-wrap bg-slate-950 py-12 gap-5 md:gap-0">
      <div class="max-w-xl">
        <h3 class="text-white font-raleway font-semibold text-3xl">Cloth</h3>
        <p class="text-white font-poppins mt-3">
          Cloth is a modern cloth factory management app that is designed to help you manage your cloth factory with
          ease.
        </p>

        <div class="flex mt-5 items-center gap-3">
          <a href="https://github.com/albetnov/fabric-django" target="_blank"
            class="py-2 px-3 rounded-full bg-slate-800 border border-slate-700 transition-colors duration-300 hover:border-slate-500">
            <i class="fa-brands fa-github text-white text-lg"></i>
          </a>

          <a href="https://instagram.com/al_nv4" target="_blank"
            class="py-2 px-3 rounded-full bg-slate-800 border border-slate-700 transition-colors duration-300 hover:border-slate-500">
            <i class="fa-brands fa-instagram text-white text-lg"></i>
          </a>

          <a href="https://x.com/AlbetNv" target="_blank"
            class="py-2 px-3 rounded-full bg-slate-800 border border-slate-700 transition-colors duration-300 hover:border-slate-500">
            <i class="fa-brands fa-x-twitter text-white text-lg"></i>
          </a>
        </div>
      </div>

      <div>
        <h4 class="text-white font-raleway font-semibold text-2xl">Teams</h4>

        <ul class="mt-5">
          <li><a href="https://instagram.com/al_nv4"
              class="text-white font-poppins hover:underline hover:cursor-pointer">Albet Novendo</a></li>
          <li><a href="javascript:void(0)"
              class="text-white font-poppins hover:underline hover:cursor-pointer">Julianto</a></li>
          <li><a href="javascript:void(0)" class="text-white font-poppins hover:underline hover:cursor-pointer">Syasya
              Tri Puspita Dewi</a></li>
          <li><a href="javascript:void(0)" class="text-white font-poppins hover:underline hover:cursor-pointer">Jesen
              Jeverlino</a></li>
          <li><a href="javascript:void(0)" class="text-white font-poppins hover:underline hover:cursor-pointer">Delvin
              Jason</a></li>
        </ul>
      </div>

      <div>
        <h4 class="text-white font-raleway font-semibold text-2xl">Quick Links</h4>

        <ul class="mt-5">
          <li><a href="#home" class="text-white font-poppins hover:underline hover:cursor-pointer">Home</a></li>
          <li><a href="#features" class="text-white font-poppins hover:underline hover:cursor-pointer">Features</a></li>
          <li><a href="#prediction" class="text-white font-poppins hover:underline hover:cursor-pointer">Prediction</a>
          </li>
        </ul>
      </div>
    </div>

    <div class="py-4 px-16 bg-slate-900 flex justify-between items-center">
      <p class="text-white font-poppins">&copy; 2024 Cloth. All rights reserved</p>

      <a class="github-button" href="https://github.com/albetnov/fabric-django"
        data-color-scheme="no-preference: light; light: light; dark: dark;" data-icon="octicon-star" data-size="large"
        aria-label="Star albetnov/fabric-django on GitHub">Star</a>
    </div>
  </footer>

  <script src="https://cdn.jsdelivr.net/npm/dayjs@1/dayjs.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/dayjs@1/plugin/relativeTime.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/dayjs@1/plugin/isSameOrBefore.js"></script>

  <script>
    dayjs.extend(window.dayjs_plugin_relativeTime)
    dayjs.extend(window.dayjs_plugin_isSameOrBefore)
    const order = document.querySelector('#order-select')
    const predict = document.querySelector('#predict-btn')
    const orderOverview = document.querySelector('#order-overview')
    const orderInfo = document.querySelector('#order-info')
    const predictResult = document.querySelector('#predict-result')

    async function getOrder(orderId) {
      const res = await fetch(`{% url "PredictGetOrder" %}?order=${orderId}`)
      return await res.json()
    }

    async function syncOrderToView() {
      console.log('render:begin:syncOrderToView')
      order.disabled = true
      const orderDetail = (await getOrder(order.value)).result

      const overviewContents = orderOverview.querySelectorAll('p.text-white span.font-bold')
      const infoContents = orderInfo.querySelectorAll('p.text-white span.font-bold')

      overviewContents[0].innerText = orderDetail.cloth_type
      overviewContents[1].innerText = orderDetail.material
      overviewContents[2].innerText = orderDetail.qty

      infoContents[0].innerText = orderDetail.worker_amount
      infoContents[1].innerText = orderDetail.difficulty
      infoContents[2].innerText = orderDetail.order_date

      order.disabled = false
      console.log('render:end:syncOrderToView')
    }

    async function predictOrder() {
      console.log('render:begin:predictOrder')
      predictResult.innerHTML = 'Thinking...'
      predict.disabled = true
      const formData = new FormData()

      formData.append('csrfmiddlewaretoken', '{{ csrf_token }}')
      formData.append('order', order.value)
      formData.append('model_type', 'rf')

      const res = await fetch("{% url 'Predict' %}", {
        body: formData,
        method: 'POST',
      })

      const json = await res.json()
      const est = dayjs(json.order_date).to(dayjs(`${json.date} ${json.time}`))

      predictResult.innerHTML = `Your order is expected to be done <span class="font-bold">${est} (${json.date} ${json.time})</span> from ${json.order_date}.`

      const hasFinished = dayjs(`${json.date} ${json.time}`).isSameOrBefore(dayjs())
      if (hasFinished) {
        predictResult.innerHTML += ` By now (${dayjs().format('YYYY-MM-DD HH:mm')}), it should be <span class="font-bold">finished</span>.`
      }

      // predictResult.innerText = `Your order is expected to be done in ${json.result} days.`
      predict.disabled = false
      console.log('render:end:predictOrder')
    }

    document.addEventListener('DOMContentLoaded', () => {
      syncOrderToView()
      predictOrder()
    })
    order.addEventListener('change', syncOrderToView)
    predict.addEventListener('click', predictOrder)
  </script>
</body>

</html>
